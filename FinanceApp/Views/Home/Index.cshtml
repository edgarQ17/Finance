@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

<h2>Expenses Overview</h2>
<div>
  <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart');
  fetch('/Expenses/GetChart')
        .then(response => response.json())
        .then(data =>
        new Chart(ctx, {
            type: 'pie',
            data: {
            labels: data.map(d=> d.category),
            datasets: [{
                data: data.map(d => d.total)
            }]
            }
        )
  

  });
</script>